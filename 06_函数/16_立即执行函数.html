<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>立即执行函数</title>
    <script>
        /*
            在开发中应该尽量减少直接在全局作用域中编写代码

            所以我们的代码尽量编写到局部作用域

            如果使用let声明的变量，可以使用{}来创建块作用域
        */

        {
            let a = 10
        }

        {
            let a = 20
        }

        function fn(){
            var a = 10
        }  //可以但不完美 

        fn() //函数容易被覆盖 容易忘掉 调的次数多了，产生多的函数作用域。只用一次函数作用域创建变量a就好了，不用过多

        function fn2(){
            var a = 20
        }

        fn2()

        //希望可以创建一个只执行一次的匿名函数
        //function(){
          //  let a = 10
        //}  //由于写的是函数声明，以function()开头，提升时，function开头的代码会提前执行，会在其他代码执行前被创建，要创建得有个名字，没有名字，创建完了，也没有用处
           //函数声明，找不到名，这个函数没办法提前，没办法创建，报错 

        //希望可以创建一个只执行一次的匿名函数

        //通过立即函数可以创建一次性的函数作用域，把我们的逻辑写到代码里，代码运行完了就完了，并且和其他的函数作用域不会发生任何冲突和干扰
        /*
            立即执行函数(IIFE){immediately invoked function expression}
                    - 立即函数是一个匿名的函数，并且它只会调用一次
                    - 可以利用IIFE来创建一个一次性的函数作用域，避免变量冲突的问题
        */
        (function(){                 //以括号开头就不会被提升，就不强制去起名字
            let a = 10
        })();
        
        (function(){
            let a = 10
            console.log(111)
        }());                         //()也可以写在 } 后面
        //这样写两个立即函数会报错 js解析器会理解成这样的 (×××)(×××)结构 换行空格会被忽略， ()有优先级也有调用函数的方式，js解析器把它们当成函数来理解了，所以报错了
        // 立即函数最好是它的前面代码加个 ; 它自己加个 ;
    </script>
</head>
<body>
    
</body>
</html>
